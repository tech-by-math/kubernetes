<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    Microservices Architecture Workflow
  </text>
  
  <!-- Client Layer -->
  <g transform="translate(50, 80)">
    <rect width="150" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="10"/>
    <text x="75" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976d2">
      Client Layer
    </text>
    
    <!-- Client devices -->
    <circle cx="50" cy="50" r="12" fill="#bbdefb" stroke="#1976d2" stroke-width="2"/>
    <text x="50" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#1976d2">Web</text>
    
    <circle cx="100" cy="50" r="12" fill="#bbdefb" stroke="#1976d2" stroke-width="2"/>
    <text x="100" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#1976d2">Mobile</text>
    
    <text x="75" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1976d2">
      Frontend Applications
    </text>
  </g>
  
  <!-- API Gateway -->
  <g transform="translate(300, 80)">
    <rect width="200" height="80" fill="#e8f5e8" stroke="#388e3c" stroke-width="2" rx="10"/>
    <text x="100" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#388e3c">
      API Gateway
    </text>
    
    <rect x="50" y="35" width="100" height="30" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="5"/>
    <text x="100" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#388e3c">LoadBalancer</text>
    
    <text x="100" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#388e3c">
      Single Entry Point
    </text>
  </g>
  
  <!-- Service Discovery -->
  <g transform="translate(600, 80)">
    <rect width="120" height="80" fill="#fff3e0" stroke="#f57900" stroke-width="2" rx="10"/>
    <text x="60" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f57900">
      Discovery
    </text>
    
    <circle cx="60" cy="50" r="15" fill="#ffcc80" stroke="#f57900" stroke-width="2"/>
    <text x="60" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#f57900">DNS</text>
    
    <text x="60" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#f57900">
      Service Registry
    </text>
  </g>
  
  <!-- Microservices Layer -->
  <g transform="translate(100, 220)">
    <rect width="600" height="200" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="10"/>
    <text x="300" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#7b1fa2">
      Microservices Cluster
    </text>
    
    <!-- User Service -->
    <g transform="translate(50, 50)">
      <rect width="120" height="120" fill="#e1bee7" stroke="#7b1fa2" stroke-width="2" rx="8"/>
      <text x="60" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7b1fa2">
        User Service
      </text>
      
      <!-- Pod instances -->
      <circle cx="30" cy="45" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="30" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod1</text>
      
      <circle cx="60" cy="45" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="60" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod2</text>
      
      <circle cx="90" cy="45" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="90" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod3</text>
      
      <!-- HPA indicator -->
      <rect x="20" y="70" width="80" height="15" fill="#9c27b0" stroke="#7b1fa2" stroke-width="1" rx="3"/>
      <text x="60" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">HPA: 2-10</text>
      
      <text x="60" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#7b1fa2">
        Auto-scaling
      </text>
    </g>
    
    <!-- Order Service -->
    <g transform="translate(200, 50)">
      <rect width="120" height="120" fill="#e1bee7" stroke="#7b1fa2" stroke-width="2" rx="8"/>
      <text x="60" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7b1fa2">
        Order Service
      </text>
      
      <!-- Pod instances -->
      <circle cx="30" cy="45" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="30" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod1</text>
      
      <circle cx="60" cy="45" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="60" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod2</text>
      
      <!-- HPA indicator -->
      <rect x="20" y="70" width="80" height="15" fill="#9c27b0" stroke="#7b1fa2" stroke-width="1" rx="3"/>
      <text x="60" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">HPA: 1-8</text>
      
      <text x="60" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#7b1fa2">
        Load Balanced
      </text>
    </g>
    
    <!-- Payment Service -->
    <g transform="translate(350, 50)">
      <rect width="120" height="120" fill="#e1bee7" stroke="#7b1fa2" stroke-width="2" rx="8"/>
      <text x="60" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7b1fa2">
        Payment Service
      </text>
      
      <!-- Pod instances -->
      <circle cx="30" cy="45" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="30" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod1</text>
      
      <circle cx="60" cy="45" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="60" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod2</text>
      
      <circle cx="90" cy="45" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="90" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod3</text>
      
      <circle cx="45" cy="65" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="45" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod4</text>
      
      <circle cx="75" cy="65" r="10" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="75" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#7b1fa2">Pod5</text>
      
      <!-- HPA indicator -->
      <rect x="20" y="85" width="80" height="15" fill="#9c27b0" stroke="#7b1fa2" stroke-width="1" rx="3"/>
      <text x="60" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">HPA: 3-15</text>
      
      <text x="60" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#7b1fa2">
        High Availability
      </text>
    </g>
  </g>
  
  <!-- Database Layer -->
  <g transform="translate(250, 480)">
    <rect width="300" height="80" fill="#ffebee" stroke="#d32f2f" stroke-width="2" rx="10"/>
    <text x="150" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#d32f2f">
      Database Layer
    </text>
    
    <!-- Database instances -->
    <rect x="50" y="35" width="60" height="30" fill="#ffcdd2" stroke="#d32f2f" stroke-width="2" rx="5"/>
    <text x="80" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#d32f2f">User DB</text>
    
    <rect x="120" y="35" width="60" height="30" fill="#ffcdd2" stroke="#d32f2f" stroke-width="2" rx="5"/>
    <text x="150" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#d32f2f">Order DB</text>
    
    <rect x="190" y="35" width="60" height="30" fill="#ffcdd2" stroke="#d32f2f" stroke-width="2" rx="5"/>
    <text x="220" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#d32f2f">Payment DB</text>
  </g>
  
  <!-- Traffic Flow Arrows -->
  <!-- Client to Gateway -->
  <path d="M 200 120 L 300 120" stroke="#1976d2" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Gateway to Services -->
  <path d="M 400 160 L 210 220" stroke="#388e3c" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M 400 160 L 360 220" stroke="#388e3c" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M 400 160 L 510 220" stroke="#388e3c" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Services to Database -->
  <path d="M 210 340 L 330 480" stroke="#7b1fa2" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 360 340 L 400 480" stroke="#7b1fa2" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 510 340 L 470 480" stroke="#7b1fa2" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Service Discovery Connection -->
  <path d="M 600 120 L 520 140" stroke="#f57900" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="560" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#f57900">DNS Lookup</text>
  
  <!-- Performance Metrics -->
  <g transform="translate(50, 350)">
    <rect width="200" height="100" fill="#e8f4fd" stroke="#0288d1" stroke-width="2" rx="8"/>
    <text x="100" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#0288d1">
      Performance Metrics
    </text>
    
    <text x="20" y="40" font-family="Arial, sans-serif" font-size="10" fill="#0288d1">
      • Response Time: 50-100ms
    </text>
    <text x="20" y="55" font-family="Arial, sans-serif" font-size="10" fill="#0288d1">
      • Throughput: 1K+ req/sec
    </text>
    <text x="20" y="70" font-family="Arial, sans-serif" font-size="10" fill="#0288d1">
      • Availability: 99.9%
    </text>
    <text x="20" y="85" font-family="Arial, sans-serif" font-size="10" fill="#0288d1">
      • CPU Utilization: 70-80%
    </text>
  </g>
  
  <!-- Mathematical Foundation -->
  <g transform="translate(550, 350)">
    <rect width="200" height="100" fill="#fff8e1" stroke="#ffa000" stroke-width="2" rx="8"/>
    <text x="100" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ffa000">
      Mathematical Models
    </text>
    
    <text x="20" y="40" font-family="Arial, sans-serif" font-size="9" fill="#ffa000">
      • DNS Lookup: O(1)
    </text>
    <text x="20" y="55" font-family="Arial, sans-serif" font-size="9" fill="#ffa000">
      • Load Balancing: Round-robin
    </text>
    <text x="20" y="70" font-family="Arial, sans-serif" font-size="9" fill="#ffa000">
      • HPA: replicas × (current/target)
    </text>
    <text x="20" y="85" font-family="Arial, sans-serif" font-size="9" fill="#ffa000">
      • Health Checks: Exponential backoff
    </text>
  </g>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- Footer -->
  <text x="400" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">
    Microservices architecture with auto-scaling, service discovery, and load balancing
  </text>
</svg>