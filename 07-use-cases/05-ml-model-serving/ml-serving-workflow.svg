<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    ML Model Serving Workflow
  </text>
  
  <!-- Model Registry -->
  <g transform="translate(50, 80)">
    <rect width="120" height="100" fill="#e8f5e8" stroke="#388e3c" stroke-width="2" rx="10"/>
    <text x="60" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#388e3c">
      Model Registry
    </text>
    
    <!-- Registry components -->
    <rect x="20" y="35" width="80" height="20" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" rx="3"/>
    <text x="60" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#388e3c">S3/MLflow</text>
    
    <rect x="20" y="60" width="80" height="20" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" rx="3"/>
    <text x="60" y="73" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#388e3c">Model v1.2.0</text>
    
    <text x="60" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#388e3c">
      Versioned Models
    </text>
  </g>
  
  <!-- Model Loading -->
  <g transform="translate(220, 80)">
    <rect width="120" height="100" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="10"/>
    <text x="60" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976d2">
      Model Loading
    </text>
    
    <!-- Init container -->
    <rect x="20" y="35" width="80" height="25" fill="#bbdefb" stroke="#1976d2" stroke-width="1" rx="3"/>
    <text x="60" y="52" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1976d2">Init Container</text>
    
    <circle cx="60" cy="75" r="10" fill="#2196f3" stroke="#1976d2" stroke-width="2"/>
    <text x="60" y="79" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Load</text>
    
    <text x="60" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1976d2">
      Dynamic Loading
    </text>
  </g>
  
  <!-- Model Serving Engine -->
  <g transform="translate(390, 80)">
    <rect width="160" height="100" fill="#fff3e0" stroke="#f57900" stroke-width="2" rx="10"/>
    <text x="80" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f57900">
      TensorFlow Serving
    </text>
    
    <!-- GPU indicator -->
    <rect x="20" y="35" width="120" height="20" fill="#ffcc80" stroke="#f57900" stroke-width="1" rx="3"/>
    <text x="80" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#f57900">GPU Acceleration</text>
    
    <!-- API endpoints -->
    <rect x="30" y="60" width="50" height="15" fill="#ffb74d" stroke="#f57900" stroke-width="1" rx="2"/>
    <text x="55" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#f57900">REST:8501</text>
    
    <rect x="90" y="60" width="50" height="15" fill="#ffb74d" stroke="#f57900" stroke-width="1" rx="2"/>
    <text x="115" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#f57900">gRPC:8500</text>
    
    <text x="80" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#f57900">
      Inference Engine
    </text>
  </g>
  
  <!-- Auto-scaling Layer -->
  <g transform="translate(100, 220)">
    <rect width="600" height="120" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="10"/>
    <text x="300" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#7b1fa2">
      Auto-scaling Model Serving Pods
    </text>
    
    <!-- HPA Controller -->
    <g transform="translate(50, 40)">
      <rect width="100" height="60" fill="#e1bee7" stroke="#7b1fa2" stroke-width="2" rx="8"/>
      <text x="50" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7b1fa2">
        HPA Controller
      </text>
      
      <text x="50" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#7b1fa2">
        CPU: 60%
      </text>
      <text x="50" y="52" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#7b1fa2">
        RPS: 100/sec
      </text>
    </g>
    
    <!-- Model Serving Pods -->
    <g transform="translate(200, 40)">
      <rect width="350" height="60" fill="#e1bee7" stroke="#7b1fa2" stroke-width="2" rx="8"/>
      <text x="175" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7b1fa2">
        Model Serving Pods (2-50 replicas)
      </text>
      
      <!-- Pod instances with GPU -->
      <circle cx="40" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="40" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <circle cx="70" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="70" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <circle cx="100" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="100" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <circle cx="130" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="130" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <circle cx="160" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="160" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <circle cx="190" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="190" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <circle cx="220" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="220" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <circle cx="250" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="250" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <circle cx="280" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="280" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <circle cx="310" cy="35" r="8" fill="#ce93d8" stroke="#7b1fa2" stroke-width="1"/>
      <text x="310" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#7b1fa2">GPU</text>
      
      <text x="175" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#7b1fa2">
        GPU-accelerated inference pods
      </text>
    </g>
  </g>
  
  <!-- A/B Testing Layer -->
  <g transform="translate(50, 370)">
    <rect width="300" height="120" fill="#ffebee" stroke="#d32f2f" stroke-width="2" rx="10"/>
    <text x="150" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#d32f2f">
      A/B Testing &amp; Canary Deployment
    </text>
    
    <!-- Model A -->
    <g transform="translate(30, 40)">
      <rect width="100" height="60" fill="#ffcdd2" stroke="#d32f2f" stroke-width="2" rx="5"/>
      <text x="50" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#d32f2f">Model A (90%)</text>
      <text x="50" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d32f2f">Baseline v1.1</text>
      <text x="50" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d32f2f">Accuracy: 87%</text>
    </g>
    
    <!-- Model B -->
    <g transform="translate(150, 40)">
      <rect width="100" height="60" fill="#ffcdd2" stroke="#d32f2f" stroke-width="2" rx="5"/>
      <text x="50" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#d32f2f">Model B (10%)</text>
      <text x="50" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d32f2f">Canary v1.2</text>
      <text x="50" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d32f2f">Accuracy: 89%</text>
    </g>
    
    <text x="150" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#d32f2f">
      Statistical Validation
    </text>
  </g>
  
  <!-- Monitoring &amp; Analytics -->
  <g transform="translate(400, 370)">
    <rect width="300" height="120" fill="#e8f4fd" stroke="#0288d1" stroke-width="2" rx="10"/>
    <text x="150" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0288d1">
      Monitoring &amp; Analytics
    </text>
    
    <!-- Metrics -->
    <rect x="30" y="40" width="80" height="25" fill="#bbdefb" stroke="#0288d1" stroke-width="1" rx="3"/>
    <text x="70" y="57" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#0288d1">Prometheus</text>
    
    <rect x="120" y="40" width="80" height="25" fill="#bbdefb" stroke="#0288d1" stroke-width="1" rx="3"/>
    <text x="160" y="57" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#0288d1">Grafana</text>
    
    <rect x="210" y="40" width="60" height="25" fill="#bbdefb" stroke="#0288d1" stroke-width="1" rx="3"/>
    <text x="240" y="57" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#0288d1">Alerts</text>
    
    <!-- Performance indicators -->
    <text x="30" y="85" font-family="Arial, sans-serif" font-size="9" fill="#0288d1">• Latency: &lt;200ms P95</text>
    <text x="30" y="98" font-family="Arial, sans-serif" font-size="9" fill="#0288d1">• Throughput: 10K+ RPS</text>
    <text x="170" y="85" font-family="Arial, sans-serif" font-size="9" fill="#0288d1">• Accuracy: 85%+ SLA</text>
    <text x="170" y="98" font-family="Arial, sans-serif" font-size="9" fill="#0288d1">• GPU Util: 90%</text>
  </g>
  
  <!-- Data Flow Arrows -->
  <!-- Registry to Loading -->
  <path d="M 170 130 L 220 130" stroke="#388e3c" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Loading to Serving -->
  <path d="M 340 130 L 390 130" stroke="#1976d2" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Serving to Auto-scaling -->
  <path d="M 470 180 L 400 220" stroke="#f57900" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Auto-scaling to A/B Testing -->
  <path d="M 200 340 L 200 370" stroke="#7b1fa2" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- A/B Testing to Monitoring -->
  <path d="M 350 430 L 400 430" stroke="#d32f2f" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Inference Request Flow -->
  <g transform="translate(600, 80)">
    <rect width="150" height="100" fill="#f0f4c3" stroke="#827717" stroke-width="2" rx="10"/>
    <text x="75" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#827717">
      Inference Requests
    </text>
    
    <!-- Request flow -->
    <circle cx="40" cy="50" r="8" fill="#9ccc65" stroke="#827717" stroke-width="1"/>
    <text x="40" y="54" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="white">API</text>
    
    <circle cx="75" cy="50" r="8" fill="#9ccc65" stroke="#827717" stroke-width="1"/>
    <text x="75" y="54" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="white">gRPC</text>
    
    <circle cx="110" cy="50" r="8" fill="#9ccc65" stroke="#827717" stroke-width="1"/>
    <text x="110" y="54" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="white">Batch</text>
    
    <text x="75" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#827717">
      10K+ requests/sec
    </text>
    <text x="75" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#827717">
      &lt;200ms latency
    </text>
  </g>
  
  <!-- Request flow to serving -->
  <path d="M 600 130 L 550 130" stroke="#827717" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  
  <!-- Mathematical Models -->
  <g transform="translate(50, 520)">
    <rect width="700" height="40" fill="#fff8e1" stroke="#ffa000" stroke-width="2" rx="8"/>
    <text x="350" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ffa000">
      Mathematical Models
    </text>
    
    <text x="30" y="35" font-family="Arial, sans-serif" font-size="10" fill="#ffa000">
      HPA: replicas × (current/target) | Latency = ProcessingTime + QueueTime + NetworkTime | Cost = GPU_Hours × GPU_Rate + CPU_Hours × CPU_Rate
    </text>
  </g>
  
  <!-- Performance Indicators -->
  <g transform="translate(600, 200)">
    <circle cx="20" cy="20" r="12" fill="#4caf50" stroke="#2e7d32" stroke-width="2"/>
    <text x="20" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">🚀</text>
    <text x="20" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#2e7d32">Fast</text>
    
    <circle cx="60" cy="20" r="12" fill="#2196f3" stroke="#1976d2" stroke-width="2"/>
    <text x="60" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">📊</text>
    <text x="60" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#1976d2">Accurate</text>
    
    <circle cx="100" cy="20" r="12" fill="#ff9800" stroke="#f57c00" stroke-width="2"/>
    <text x="100" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">⚡</text>
    <text x="100" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#f57c00">Scalable</text>
    
    <circle cx="140" cy="20" r="12" fill="#9c27b0" stroke="#7b1fa2" stroke-width="2"/>
    <text x="140" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">💰</text>
    <text x="140" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#7b1fa2">Cost-opt</text>
  </g>
  
  <!-- MLOps Pipeline Indicator -->
  <g transform="translate(50, 50)">
    <rect width="150" height="20" fill="#e1f5fe" stroke="#0277bd" stroke-width="1" rx="3"/>
    <text x="75" y="15" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0277bd">
      MLOps Pipeline Integration
    </text>
  </g>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- Footer -->
  <text x="400" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">
    ML model serving with GPU acceleration, auto-scaling, A/B testing, and performance monitoring
  </text>
</svg>